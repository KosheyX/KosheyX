from hikka import loader, utils
import random

@loader.tds
class CoolFonts(loader.Module):
    """ĞšÑ€ÑƒÑ‚Ñ‹Ğµ ÑˆÑ€Ğ¸Ñ„Ñ‚Ñ‹ Ğ´Ğ»Ñ Ñ€ÑƒÑÑĞºĞ¾Ğ³Ğ¾/Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¾Ğ³Ğ¾ Ñ‚ĞµĞºÑÑ‚Ğ°"""
    
    strings = {
        "name": "CoolFonts",
        "no_text": "ğŸš« <b>Ğ£ĞºĞ°Ğ¶Ğ¸ Ñ‚ĞµĞºÑÑ‚!</b> ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: <code>.f ĞŸÑ€Ğ¸Ğ²ĞµÑ‚</code>",
        "fonts_list": "ğŸŒˆ <b>Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ÑˆÑ€Ğ¸Ñ„Ñ‚Ñ‹:</b>\n\n{fonts}\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹: <code>.f Ğ½Ğ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞºÑÑ‚</code>",
    }
    
    def __init__(self):
        self.font_styles = [
            {"name": "1. ĞŸĞ¾Ğ»ÑƒĞ¶Ğ¸Ñ€Ğ½Ñ‹Ğ¹", "func": self.bold},
            {"name": "2. ĞšÑƒÑ€ÑĞ¸Ğ²", "func": self.italic},
            {"name": "3. ĞœĞ¾Ğ½Ğ¾ÑˆĞ¸Ñ€Ğ¸Ğ½Ğ½Ñ‹Ğ¹", "func": self.mono},
            {"name": "4. Ğ“Ğ¾Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹", "func": self.gothic},
            {"name": "5. ĞšÑ€ÑƒĞ¶ĞµĞ²Ğ½Ğ¾Ğ¹", "func": self.script},
            {"name": "6. ĞŸĞµÑ€ĞµĞ²Ñ‘Ñ€Ğ½ÑƒÑ‚Ñ‹Ğ¹", "func": self.upside_down},
            {"name": "7. ĞšĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğ¹", "func": self.square},
            {"name": "8. ĞŸÑƒĞ·Ñ‹Ñ€Ğ¸", "func": self.bubbles},
            {"name": "9. ĞœĞ°Ğ³Ğ¸Ñ", "func": self.magic},
            {"name": "10. Ğ—Ğ°Ñ‡Ñ‘Ñ€ĞºĞ½ÑƒÑ‚Ñ‹Ğ¹", "func": self.strikethrough},
            {"name": "11. ĞĞ°Ğ´ÑÑ‚Ñ€Ğ¾Ñ‡Ğ½Ñ‹Ğ¹", "func": self.superscript},
            {"name": "12. ĞŸĞ¾Ğ´ÑÑ‚Ñ€Ğ¾Ñ‡Ğ½Ñ‹Ğ¹", "func": self.subscript},
        ]
    
    async def client_ready(self, client, db):
        self.client = client
    
    @loader.unrestricted
    async def fcmd(self, message):
        """Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ÑˆÑ€Ğ¸Ñ„Ñ‚ Ñ‚ĞµĞºÑÑ‚Ğ° (.f Ğ½Ğ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞºÑÑ‚)"""
        args = utils.get_args_raw(message)
        
        if not args:
            fonts = "\n".join(f["name"] for f in self.font_styles)
            await utils.answer(
                message,
                self.strings["fonts_list"].format(fonts=fonts)
            )
            return
        
        if args.split()[0].isdigit():
            font_num = int(args.split()[0]) - 1
            text = " ".join(args.split()[1:])
        else:
            font_num = -1  # Ğ Ğ°Ğ½Ğ´Ğ¾Ğ¼Ğ½Ñ‹Ğ¹ ÑÑ‚Ğ¸Ğ»ÑŒ
            text = args
        
        if not text:
            await utils.answer(message, self.strings["no_text"])
            return
        
        if 0 <= font_num < len(self.font_styles):
            styled = await self.font_styles[font_num]["func"](text)
        else:
            styled = await random.choice(self.font_styles)["func"](text)
        
        await utils.answer(message, styled)

    # Ğ¡Ñ‚Ğ¸Ğ»Ğ¸
    async def bold(self, text):
        return f"<b>{text}</b>"
    
    async def italic(self, text):
        return f"<i>{text}</i>"
    
    async def mono(self, text):
        return f"<code>{text}</code>"
    
    async def gothic(self, text):
        mapping = {
            'Ğ°': 'ğ”', 'Ğ±': 'ğ”Ÿ', 'Ğ²': 'ğ”³', 'Ğ³': 'ğ”¤', 'Ğ´': 'ğ”¡', 'Ğµ': 'ğ”¢',
            'Ñ‘': 'ğ”¢Ìˆ', 'Ğ¶': 'ğ”·', 'Ğ·': 'ğ”·', 'Ğ¸': 'ğ”¦', 'Ğ¹': 'ğ”§', 'Ğº': 'ğ”¨',
            'Ğ»': 'ğ”©', 'Ğ¼': 'ğ”ª', 'Ğ½': 'ğ”«', 'Ğ¾': 'ğ”¬', 'Ğ¿': 'ğ”­', 'Ñ€': 'ğ”¯',
            'Ñ': 'ğ”°', 'Ñ‚': 'ğ”±', 'Ñƒ': 'ğ”²', 'Ñ„': 'ğ”£', 'Ñ…': 'ğ”µ', 'Ñ†': 'ğ” ',
            'Ñ‡': 'ğ”¥', 'Ñˆ': 'ğ”°ğ”¥', 'Ñ‰': 'ğ”°ğ” ğ”¥', 'ÑŠ': 'ğ”Ÿ', 'Ñ‹': 'ğ”¶', 'ÑŒ': 'ğ”Ÿ',
            'Ñ': 'ğ”¢', 'Ñ': 'ğ”§ğ”²', 'Ñ': 'ğ”§ğ”',
            'Ğ': 'ğ”„', 'Ğ‘': 'ğ”…', 'Ğ’': 'ğ”™', 'Ğ“': 'ğ”Š', 'Ğ”': 'ğ”‡', 'Ğ•': 'ğ”ˆ',
            'Ğ': 'ğ”ˆÌˆ', 'Ğ–': 'ğ”š', 'Ğ—': 'ğ”œ', 'Ğ˜': 'ğ”‰', 'Ğ™': 'ğ”', 'Ğš': 'ğ”',
            'Ğ›': 'ğ”', 'Ğœ': 'ğ”', 'Ğ': 'ğ”‘', 'Ğ': 'ğ”’', 'ĞŸ': 'ğ”“', 'Ğ ': 'ğ”“',
            'Ğ¡': 'ğ”–', 'Ğ¢': 'ğ”—', 'Ğ£': 'ğ”˜', 'Ğ¤': 'ğ”‰', 'Ğ¥': 'ğ”›', 'Ğ¦': 'ğ”œ',
            'Ğ§': 'ğ””', 'Ğ¨': 'ğ”–ğ”¥', 'Ğ©': 'ğ”–ğ” ğ”¥', 'Ğª': 'ğ”…', 'Ğ«': 'ğ”œ', 'Ğ¬': 'ğ”…',
            'Ğ­': 'ğ”ˆ', 'Ğ®': 'ğ”ğ”²', 'Ğ¯': 'ğ”ğ”',
        }
        return "".join(mapping.get(c, c) for c in text)
    
    async def script(self, text):
        mapping = {
            'Ğ°': 'ğ’¶', 'Ğ±': 'ğ’·', 'Ğ²': 'ğ“‹', 'Ğ³': 'ğ‘”', 'Ğ´': 'ğ’¹', 'Ğµ': 'ğ‘’',
            'Ñ‘': 'ğ‘’Ìˆ', 'Ğ¶': 'ğ“', 'Ğ·': 'ğ“', 'Ğ¸': 'ğ’¾', 'Ğ¹': 'ğ’¿', 'Ğº': 'ğ“€',
            'Ğ»': 'ğ“', 'Ğ¼': 'ğ“‚', 'Ğ½': 'ğ“ƒ', 'Ğ¾': 'ğ‘œ', 'Ğ¿': 'ğ“…', 'Ñ€': 'ğ“‡',
            'Ñ': 'ğ“ˆ', 'Ñ‚': 'ğ“‰', 'Ñƒ': 'ğ“Š', 'Ñ„': 'ğ’»', 'Ñ…': 'ğ“', 'Ñ†': 'ğ’¸',
            'Ñ‡': 'ğ’½', 'Ñˆ': 'ğ“ˆğ’½', 'Ñ‰': 'ğ“ˆğ’¸ğ’½', 'ÑŠ': 'ğ’·', 'Ñ‹': 'ğ“', 'ÑŒ': 'ğ’·',
            'Ñ': 'ğ‘’', 'Ñ': 'ğ’¿ğ“Š', 'Ñ': 'ğ’¿ğ’¶',
            'Ğ': 'ğ’œ', 'Ğ‘': 'ğµ', 'Ğ’': 'ğ’±', 'Ğ“': 'ğ’¢', 'Ğ”': 'ğ’Ÿ', 'Ğ•': 'ğ¸',
            'Ğ': 'ğ¸Ìˆ', 'Ğ–': 'ğ’µ', 'Ğ—': 'ğ’µ', 'Ğ˜': 'ğ¼', 'Ğ™': 'ğ’¥', 'Ğš': 'ğ’¦',
            'Ğ›': 'ğ¿', 'Ğœ': 'ğ‘€', 'Ğ': 'ğ’©', 'Ğ': 'ğ’ª', 'ĞŸ': 'ğ’«', 'Ğ ': 'ğ’«',
            'Ğ¡': 'ğ’®', 'Ğ¢': 'ğ’¯', 'Ğ£': 'ğ’°', 'Ğ¤': 'ğ¹', 'Ğ¥': 'ğ’³', 'Ğ¦': 'ğ’´',
            'Ğ§': 'ğ’¬', 'Ğ¨': 'ğ’®ğ’½', 'Ğ©': 'ğ’®ğ’¸ğ’½', 'Ğª': 'ğµ', 'Ğ«': 'ğ’´', 'Ğ¬': 'ğµ',
            'Ğ­': 'ğ¸', 'Ğ®': 'ğ’¥ğ“Š', 'Ğ¯': 'ğ’¥ğ’¶',
        }
        return "".join(mapping.get(c, c) for c in text)
    
    async def upside_down(self, text):
        normal = "Ğ°Ğ±Ğ²Ğ³Ğ´ĞµÑ‘Ğ¶Ğ·Ğ¸Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¾Ğ¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŠÑ‹ÑŒÑÑÑĞĞ‘Ğ’Ğ“Ğ”Ğ•ĞĞ–Ğ—Ğ˜Ğ™ĞšĞ›ĞœĞĞĞŸĞ Ğ¡Ğ¢Ğ£Ğ¤Ğ¥Ğ¦Ğ§Ğ¨Ğ©ĞªĞ«Ğ¬Ğ­Ğ®Ğ¯abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"
        flipped = "ÉÊšĞ²ÇÉ“Ñ‘Ğ¶ÎµĞ¸Ì¶Ğ¹ÊĞ»Ğ¼Ğ½Ğ¾Ğ¿á´šsÑ‚êŸ¼Ñ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŠÑ‹ÑŒÑÑÑâˆ€ê“­Æ‹ê“·ÆĞÓœÆ§Í¶ê“˜â…‚êŸ½á´Oê“’ê“¤Sê“•ê“µĞ¤XÏ¼ÒºĞ¨Ğ©ĞªĞ«Ğ¬Æê“µâ…„AÉqÉ”pÇÉŸÆƒÉ¥á´‰É¾ÊlÉ¯uodbÉ¹sÊ‡nÊŒÊxÊzâˆ€ê“­Æ†ê“·Æâ„²â…HIÅ¿ê“˜â…‚WNOê“’ê“¤Sê“•âˆ©Î›MXâ…„Z"
        trans = str.maketrans(normal, flipped)
        return text.translate(trans)[::-1]
    
    async def square(self, text):
        mapping = {
            'Ğ°': 'ğŸ„°', 'Ğ±': 'ğŸ„±', 'Ğ²': 'ğŸ……', 'Ğ³': 'ğŸ„¶', 'Ğ´': 'ğŸ„³', 'Ğµ': 'ğŸ„´',
            'Ñ‘': 'ğŸ„´Ìˆ', 'Ğ¶': 'ğŸ…‰', 'Ğ·': 'ğŸ…‰', 'Ğ¸': 'ğŸ„¸', 'Ğ¹': 'ğŸ„¹', 'Ğº': 'ğŸ„º',
            'Ğ»': 'ğŸ„»', 'Ğ¼': 'ğŸ„¼', 'Ğ½': 'ğŸ„½', 'Ğ¾': 'ğŸ„¾', 'Ğ¿': 'ğŸ„¿', 'Ñ€': 'ğŸ„¿',
            'Ñ': 'ğŸ…‚', 'Ñ‚': 'ğŸ…ƒ', 'Ñƒ': 'ğŸ…„', 'Ñ„': 'ğŸ„µ', 'Ñ…': 'ğŸ…‡', 'Ñ†': 'ğŸ…ˆ',
            'Ñ‡': 'ğŸ…€', 'Ñˆ': 'ğŸ…‚ğŸ„·', 'Ñ‰': 'ğŸ…‚ğŸ„²ğŸ„·', 'ÑŠ': 'ğŸ„±', 'Ñ‹': 'ğŸ…ˆ', 'ÑŒ': 'ğŸ„±',
            'Ñ': 'ğŸ„´', 'Ñ': 'ğŸ„¹ğŸ…„', 'Ñ': 'ğŸ„¹ğŸ„°',
        }
        return "".join(mapping.get(c, c) for c in text)
    
    async def bubbles(self, text):
        mapping = {
            'Ğ°': 'â“', 'Ğ±': 'â“‘', 'Ğ²': 'â“¥', 'Ğ³': 'â“–', 'Ğ´': 'â““', 'Ğµ': 'â“”',
            'Ñ‘': 'â“”Ìˆ', 'Ğ¶': 'â“©', 'Ğ·': 'â“©', 'Ğ¸': 'â“˜', 'Ğ¹': 'â“™', 'Ğº': 'â“š',
            'Ğ»': 'â“›', 'Ğ¼': 'â“œ', 'Ğ½': 'â“', 'Ğ¾': 'â“', 'Ğ¿': 'â“Ÿ', 'Ñ€': 'â“Ÿ',
            'Ñ': 'â“¢', 'Ñ‚': 'â“£', 'Ñƒ': 'â“¤', 'Ñ„': 'â“•', 'Ñ…': 'â“§', 'Ñ†': 'â“¨',
            'Ñ‡': 'â“ ', 'Ñˆ': 'â“¢â“—', 'Ñ‰': 'â“¢â“’â“—', 'ÑŠ': 'â“‘', 'Ñ‹': 'â“¨', 'ÑŒ': 'â“‘',
            'Ñ': 'â“”', 'Ñ': 'â“™â“¤', 'Ñ': 'â“™â“',
        }
        return "".join(mapping.get(c, c) for c in text)
    
    async def magic(self, text):
        symbols = "âœ¨â™•â˜¯â˜„â˜½â™«â˜˜âš¡"
        return " ".join(f"{random.choice(symbols)}{c}{random.choice(symbols)}" for c in text)
    
    async def strikethrough(self, text):
        return f"<s>{text}</s>"
    
    async def superscript(self, text):
        mapping = str.maketrans("0123456789Ğ°Ğ±Ğ²Ğ³Ğ´ĞµÑ‘Ğ¶Ğ·Ğ¸Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¾Ğ¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŠÑ‹ÑŒÑÑÑ", "â°Â¹Â²Â³â´âµâ¶â·â¸â¹áµƒáµ‡áµ›áµáµˆáµ‰áµ‰ÌˆÊ²á¶»â±Ê²áµË¡áµâ¿áµ’áµ–Ê³Ë¢áµ—áµ˜á¶ Ê°á¶œá¶œÊ°Ë¢Ê°Ë¢á¶œÊ°áµ‡Ê¸áµ‡áµ‰Ê²áµ˜Ê²áµƒ")
        return text.translate(mapping)
    
    async def subscript(self, text):
        mapping = str.maketrans("0123456789Ğ°Ğ±Ğ²Ğ³Ğ´ĞµÑ‘Ğ¶Ğ·Ğ¸Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¾Ğ¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŠÑ‹ÑŒÑÑÑ", "â‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰â‚â‚‘â‚•áµ¢â±¼â‚–â‚—â‚˜â‚™â‚’â‚šáµ£â‚›â‚œáµ¤áµ¥â‚“áµªáµ§áµ©áµª")
        return text.translate(mapping)
